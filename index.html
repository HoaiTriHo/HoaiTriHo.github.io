<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Daily History</title>
    <link href="https://fonts.googleapis.com/css2?family=Anton&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Anton&family=Charm:wght@700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="wrap">
        <div>
            <h1 class="title">Lịch sử hằng ngày</h1>
        </div>
        <div class="form-search">
            <div style="display: flex;align-items: center;flex-direction: column;">
                <div class="form">
                    <label for="date"> Nhập mốc sự kiện</label>
                    <input type="text" id="event" placeholder="Ngày/Tháng/Năm">
                    <ul class="result" id="resultEvent">
                        
                    </ul>
                </div>
                <div class="form">
                    <label for="date"> Tên nhân vật lịch sử</label>
                    <input type="text" id="name" placeholder="Vd: Nguyễn Trãi">
                </div>
                <div class="form">
                    <label for="date"> Tên sự kiện lịch sử</label>
                    <input type="text" id="date" placeholder="Vd: Trận chiến sông Bạch Đằng">
                </div>
            </div>
        </div>
        <div id="popup">
            <button id='cancel'>Đóng</button>
            <div id="content"></div>
        </div>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
<script>
    const jsonEvent = [
        {
            'id':'1',
            'event':'27/01/1973',
            'country':'Hiệp định Paris',
            'content':'Lê Đức Thọ',
            'result':'',
            'image':'1024px-Vietnam_Peace_Treaty_1973.jpg'
        },
        {
            'id':'1',
            'event':'27/01/1973',
            'country':'Hiệp định Paris',
            'content':'Lê Đức Thọ',
            'result':'',
            'image':'1024px-Vietnam_Peace_Treaty_1973.jpg'
        },
        {
            'id':'1',
            'event':'27/01/1973',
            'country':'Hiệp định Paris',
            'content':'Lê Đức Thọ',
            'result':'',
            'image':'1024px-Vietnam_Peace_Treaty_1973.jpg'
        },
        {
            'id':'1',
            'event':'27/01/1973',
            'country':'Hiệp định Paris',
            'content':'Lê Đức Thọ',
            'result':'',
            'image':'1024px-Vietnam_Peace_Treaty_1973.jpg'
        },
        {
            'id':'1',
            'event':'27/01/1973',
            'country':'Hiệp định Paris',
            'content':'Lê Đức Thọ',
            'result':'',
            'image':'1024px-Vietnam_Peace_Treaty_1973.jpg'
        },
       
    ]

    let popup = document.getElementById('popup'),
        event = document.getElementById('event'),
        content = document.getElementById('content');

    cancel.onclick = function () {
        popup.style.display = 'none';
    }
    // $('#event').keypress(function (event) {
    //     var keycode = (event.keyCode ? event.keyCode : event.which);
    //     if (keycode == '13') {
    //         //alert('Bạn vừa nhap: '+$('#event').val());
    //         popup.style.display = 'block';
    //     }
    // });
    $('#event').keyup(function(){
        var li = '';
        for(var i = 0;i<jsonEvent.length;i++){
            //('#event').val()
            let search = jsonEvent[i].date.indexOf($('#event').val());
           if(search != -1){
               li += "<li onClick='test()'/>"+jsonEvent[i].date+ "</li>";
               console.log(jsonEvent[i].date);
           }
           
        }
        if($('#event').val()==''){
            li = ' ';
        }
        $('#resultEvent').html(li);
    })

    function test(){
        popup.style.display = 'block';
        $('#content').html(jsonEvent[0].text+"<img class='response' src='images/1024px-Vietnam_Peace_Treaty_1973.jpg'>");
    }
</script>

</html>